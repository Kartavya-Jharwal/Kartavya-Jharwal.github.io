<!DOCTYPE HTML>
<html lang="en" class="no-js">
	<head>
		<title>Kartavya Jharwal - Storyteller & Tech Enthusiast</title>
		<meta charset="utf-8" />
		<link rel="icon" type="image/x-icon" href="/favicon.png">
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no" />
		<meta name="description" content="Kartavya Jharwal - An ambitious polymath and tech enthusiast">
		<meta name="keywords" content="Kartavya Jharwal, Student, Tech Enthusiast, Polymath">
		<meta name="author" content="Kartavya Jharwal">
		<meta name="theme-color" content="#1a1b26">
		<meta property="og:title" content="Kartavya Jharwal - Student & Tech Enthusiast">
		<meta property="og:description" content="Kartavya Jharwal - An ambitious polymath and tech enthusiast">
		<meta property="og:type" content="website">
		<meta name="twitter:card" content="summary">
		<meta name="twitter:title" content="Kartavya Jharwal - Student & Tech Enthusiast">
		<meta name="twitter:description" content="Kartavya Jharwal - An ambitious polymath and tech enthusiast">
		
		<!-- Preload critical resources -->
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link rel="preconnect" href="https://kit.fontawesome.com">
		
		<!-- Preload critical assets -->
		<link rel="preload" href="assets/logo_kj.png" as="image">
		<link rel="preload" href="assets/logo_kj_dark.png" as="image">
		<link rel="preload" href="assets/logo_kj_32.png" as="image" media="(max-width:480px)">
		<link rel="preload" href="https://kit.fontawesome.com/aac9b59570.js" as="script" crossorigin="anonymous">
		<!-- Preload local fonts (woff2 preferred) -->
		<link rel="preload" href="assets/webfonts/Satoshi-Regular.woff2" as="font" type="font/woff2" crossorigin>
		<link rel="preload" href="assets/webfonts/Satoshi-Medium.woff2" as="font" type="font/woff2" crossorigin>
		<link rel="preload" href="assets/webfonts/Satoshi-Bold.woff2" as="font" type="font/woff2" crossorigin>
		<link rel="preload" href="assets/webfonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin>
		<link rel="preload" href="assets/webfonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin>
		<link rel="preload" href="assets/webfonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin>

		<!-- Inline CDN fallback: if local fonts (Satoshi or Font Awesome) don't load quickly, inject CDN CSS -->
		<script>
		(function(){
		  try{
		    // Wait up to 700ms for fonts to be available
		    var timeout = 700;
		    var check = function(){
		      // Check Satoshi
		      var satoshiLoaded = document.fonts && document.fonts.check && document.fonts.check('1em Satoshi');
		      // Check Font Awesome (solid or brands)
		      var faLoaded = document.fonts && document.fonts.check && (document.fonts.check('1em "Font Awesome 5 Free"') || document.fonts.check('1em "Font Awesome 5 Brands"'));
		      if(!satoshiLoaded){
		        // Inject a sane webfont fallback (Google-hosted) if Satoshi not available
		        var link = document.createElement('link');
		        link.rel = 'stylesheet';
		        link.href = 'https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700&display=swap';
		        document.head.appendChild(link);
		      }
		      if(!faLoaded){
		        var fa = document.createElement('link');
		        fa.rel = 'stylesheet';
		        fa.href = 'https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css';
		        fa.crossOrigin = 'anonymous';
		        document.head.appendChild(fa);
		      }
		    };
		    if(document.fonts && document.fonts.ready){
		      // Use ready then check, but still guard with timeout
		      var t = setTimeout(check, timeout);
		      document.fonts.ready.then(function(){ clearTimeout(t); check(); }).catch(function(){ check(); });
		    } else {
		      setTimeout(check, timeout);
		    }
		  }catch(e){/* silent fallback */}
		})();
		</script>
		
		<!-- Critical CSS -->
		<link rel="stylesheet" href="assets/css/critical.css" />
		<link rel="stylesheet" href="assets/css/theme.css" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<link rel="stylesheet" href="assets/css/mobile-optimizations.css" />
		
		<!-- Non-critical CSS -->
		<link rel="stylesheet" href="assets/css/cursors.css" />
		<link rel="stylesheet" href="assets/css/enhancements.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
	</head>
	<body class="is-preload theme-dark">
		<a href="#main" class="skip-link">Skip to main content</a>
  
		<div id="wrapper">
			<div id="bg" aria-hidden="true">
				<div class="bg-overlay"></div>
			</div>
			<div id="main" role="main" tabindex="-1">
				<a class="logo" aria-label="KJ Logo" id="logo">
					<img
						id="logo-img"
						class="logo-img"
						alt="KJ Logo"
						data-base-light="assets/logo_kj_light"
						data-base-dark="assets/logo_kj_dark"
						data-base-neutral="assets/logo_kj_neutral"
						src="assets/logo_kj_light_128.png"
						srcset="assets/logo_kj_light_32.png 32w, assets/logo_kj_light_64.png 64w, assets/logo_kj_light_128.png 128w, assets/logo_kj_light_256.png 256w, assets/logo_kj_light_512.png 512w"
						sizes="(max-width:480px) 48px, (max-width:768px) 64px, 128px"
					>
				</a>
				
				<!-- Header -->
				<header id="header" role="banner" class="business-card vertical">
					<div class="content-wrapper">
						<section class="name-and-title">
							<!-- Fixed name display -->
							<h1 id="name">Kartavya Jharwal</h1>
							<a href="#polymath-modal" class="tagline-button" id="polymath-link" title="Learn about what makes me a polymath">
								Ambitious Polymath
							</a>
						</section>
						
						<section class="locations">
							<div class="locations-container">
								<span class="role-text location-tag" data-location="london">London</span>
								<span class="role-text location-tag" data-location="jaipur">Jaipur</span>
							</div>
						</section>
						
						<section class="roles">
							<div class="roles-container">
								<span class="role-text entrepreneur-role" data-skill="entrepreneur" style="position:relative;">Entrepreneur</span>
								<span class="role-text storyteller-role" data-skill="creativity" style="position:relative;">Storyteller</span>
								<span class="role-text engineer-role" data-skill="code" style="position:relative;">Software Engineer</span>
							</div>
						 </section>
					</div>
					
					<section class="social">
						<div class="social-links-wrapper">
							<nav role="navigation" aria-label="Social media links">
								<ul class="social-links">
									<!-- Professional -->
									<li class="professional"><a href="https://www.linkedin.com/in/kartavyajharwal/" target="_blank" rel="noopener noreferrer" class="icon brands fa-linkedin" data-tooltip="Connect on LinkedIn" aria-label="LinkedIn Profile"><span class="label" aria-hidden="true">LinkedIn</span></a></li>
									<li class="professional"><a href="https://github.com/Kartavya-Jharwal" target="_blank" rel="noopener noreferrer" class="icon brands fa-github" data-tooltip="View My Projects" aria-label="GitHub Profile"><span class="label" aria-hidden="true">Github</span></a></li>
									<li class="professional"><a href="https://instagram.com/kartavya_jharwal" target="_blank" rel="noopener noreferrer" class="icon brands fa-instagram" data-tooltip="Follow on Instagram" aria-label="Instagram Profile"><span class="label" aria-hidden="true">Instagram</span></a></li>
									
									<!-- Contact -->
									<li class="contact"><a href="mailto:KartavyaJharwal@gmail.com" class="icon solid fa-envelope" data-tooltip="Email Me" aria-label="Send Email"><span class="label" aria-hidden="true">Email</span></a></li>
									<li class="contact"><a href="https://t.me/Kartavya_jharwal" target="_blank" rel="noopener noreferrer" class="icon fa-paper-plane" data-tooltip="Message on Telegram" aria-label="Telegram Profile"><span class="label" aria-hidden="true">Telegram</span></a></li>
									<li class="contact"><a href="https://cal.com/kartavya" target="_blank" rel="noopener noreferrer" class="icon solid fa-calendar" data-tooltip="Schedule a Meeting" aria-label="Calendar Link"><span class="label" aria-hidden="true">Calendar</span></a></li>
								</ul>
							</nav>
						</div>
					 </section>
				</header>
			</div>
			
			<!-- Skill Preview Tooltips -->
			<div class="skill-preview" id="preview-entrepreneur">
				<div class="preview-content">
					<h3>Entrepreneurial Ventures</h3>
					<ul>
						<li>Fintech Innovation Projects</li>
						<li>Tech Startup Experience</li>
						<li>Business Strategy Development</li>
					</ul>
				</div>
			</div>
			
			<div class="skill-preview" id="preview-education">
				<div class="preview-content">
					<h3>Academic Background</h3>
					<ul>
						<li>Business & Technology Focus</li>
						<li>International Perspective</li>
						<li>Continuous Learning</li>
					</ul>
				</div>
			</div>
			
			<div class="skill-preview" id="preview-code">
				<div class="preview-content">
					<h3>Technical Skills</h3>
					<ul>
						<li>Full Stack Development</li>
						<li>AI & Machine Learning</li>
						<li>UI/UX Design</li>
					</ul>
				</div>
			</div>
			
			<!-- Polymath Modal -->
			<div id="polymath-modal" class="modal">
				<div class="modal-content">
					<div class="modal-header">
						<h2>The Modern Polymath</h2>
					</div>
					<div class="modal-body">
						<div class="polymath-definition">
							<p>A <strong>polymath</strong> is someone whose expertise spans a significant number of different subject areas—such a person is known to draw on complex bodies of knowledge to solve specific problems.</p>
						</div>
						
						<div class="polymath-grid">
							<div class="polymath-area" id="tech">
								<div class="area-icon"><i class="fas fa-laptop-code"></i></div>
								<h3>Technology</h3>
								<p>Software development, AI research, and digital innovation.</p>
							</div>
							
							<div class="polymath-area" id="business">
								<div class="area-icon"><i class="fas fa-chart-line"></i></div>
								<h3>Business</h3>
								<p>Strategic thinking, entrepreneurship, and global markets.</p>
							</div>
							
							<div class="polymath-area" id="creativity">
								<div class="area-icon"><i class="fas fa-lightbulb"></i></div>
								<h3>Creativity</h3>
								<p>Design thinking, problem-solving, and innovation approaches.</p>
							</div>
						</div>
						
						<p class="polymath-summary">My interdisciplinary approach combines technical skills, business acumen, and creative thinking to solve complex problems in unique ways.</p>
						
						<div class="polymath-quote">
							<blockquote>
								"Study the science of art. Study the art of science. Develop your senses. Learn how to see. Realize that everything connects to everything else."
							</blockquote>
							<cite>— Leonardo da Vinci</cite>
						</div>
					</div>
				</div>
			</div>
			
			<!-- Business Card Context Popup -->
			<div class="context-popup" id="card-context">
				<div class="popup-content">
					<p>Tap or click anywhere to explore this interactive business card</p>
				</div>
			</div>
		</div>
		
		<!-- Scripts -->
		<script src="https://kit.fontawesome.com/aac9b59570.js" crossorigin="anonymous"></script>
		<script>
			// Mobile viewport height fix
			function setViewportHeight() {
				const vh = window.innerHeight * 0.01;
				document.documentElement.style.setProperty('--vh', `${vh}px`);
			}
			
			setViewportHeight();
			window.addEventListener('resize', setViewportHeight);
			window.addEventListener('orientationchange', () => {
				setTimeout(setViewportHeight, 100);
			});
			
			// FontAwesome config for better performance
			window.FontAwesomeConfig = { 
				autoReplaceSvg: 'nest',
				observeMutations: false 
			};
		</script>
		<script src="assets/js/cursor-effects.js"></script>
		<script src="assets/js/name-animation.js"></script>
		<script src="assets/js/enhancements.js"></script>
		<script>
			// Debounce function for performance
			function debounce(func, wait) {
				let timeout;
				return function executedFunction(...args) {
					const later = () => {
						clearTimeout(timeout);
						func(...args);
					};
					clearTimeout(timeout);
					timeout = setTimeout(later, wait);
				};
			}
			
			// Generate a seeded random number based on date
			function seededRandom(seed) {
				const x = Math.sin(seed++) * 10000;
				return x - Math.floor(x);
			}

			// More vibrant but controlled pastel palette inspired by Catppuccin
			const pastelPalette = {
				rosewater: { h: 10, s: 58, l: 80 },
				flamingo: { h: 0, s: 60, l: 78 },
				pink: { h: 316, s: 62, l: 76 },
				mauve: { h: 267, s: 65, l: 75 },
				lavender: { h: 232, s: 67, l: 77 },
				sky: { h: 189, s: 59, l: 71 },
				teal: { h: 170, s: 57, l: 70 },
				mint: { h: 156, s: 63, l: 74 },
				peach: { h: 23, s: 62, l: 72 }
			};

			function getTodayColors() {
				const date = new Date();
				const seed = date.getFullYear() * 10000 + (date.getMonth() + 1) * 100 + date.getDate();
				
				const colors = Object.values(pastelPalette);
				const baseColorIndex = Math.floor(seededRandom(seed) * colors.length);
				const baseColor = colors[baseColorIndex];
				
				// Generate multiple colors for complex gradient
				const secondaryHueShift = 30 + Math.floor(seededRandom(seed + 1) * 30);
				const tertiaryHueShift = 60 + Math.floor(seededRandom(seed + 2) * 30);
				
				const secondColor = {
					h: (baseColor.h + secondaryHueShift) % 360,
					s: baseColor.s - 5,
					l: baseColor.l - 2
				};
				
				const thirdColor = {
					h: (baseColor.h + tertiaryHueShift) % 360,
					s: baseColor.s - 8,
					l: baseColor.l - 4
				};
				
				// Ensure colors stay within vibrant but controlled range
				[secondColor, thirdColor].forEach(color => {
					color.s = Math.min(Math.max(color.s, 45), 70);
					color.l = Math.min(Math.max(color.l, 65), 82);
				});
				
				return {
					color1: `hsl(${baseColor.h}, ${baseColor.s}%, ${baseColor.l}%)`,
					color2: `hsl(${secondColor.h}, ${secondColor.s}%, ${secondColor.l}%)`,
					color3: `hsl(${thirdColor.h}, ${thirdColor.s}%, ${thirdColor.l}%)`
				};
			}

			function initBackground() {
				const colors = getTodayColors();
				const bg = document.getElementById('bg');
				bg.style.background = `
					linear-gradient(45deg, ${colors.color1} 0%, ${colors.color2} 100%),
					linear-gradient(135deg, transparent 40%, ${colors.color3} 100%),
					radial-gradient(circle at top right, ${colors.color2}55, transparent 50%),
					radial-gradient(circle at bottom left, ${colors.color1}55, transparent 50%),
					linear-gradient(to right, ${colors.color3}33, transparent)
				`;
				bg.style.backgroundBlendMode = 'overlay, soft-light, overlay, difference, normal';
				bg.style.backgroundSize = '200% 200%, 200% 200%, 100% 100%, 100% 100%, 100% 100%';
			}

			let lastScrollPosition = 0;
			const debouncedScroll = debounce(() => {
				const currentScroll = window.pageYOffset || document.documentElement.scrollTop;
				const bg = document.getElementById('bg');
				const colors = getTodayColors();
				
				const scrollDiff = currentScroll - lastScrollPosition;
				const intensity = Math.min(Math.abs(scrollDiff) / 150, 0.6);
				
				if (scrollDiff !== 0) {
					requestAnimationFrame(() => {
						const angle1 = 45 + (scrollDiff > 0 ? intensity * 30 : -intensity * 30);
						const angle2 = 135 + (scrollDiff > 0 ? -intensity * 20 : intensity * 20);
						bg.style.background = `
							linear-gradient(${angle1}deg, ${colors.color1} 0%, ${colors.color2} 100%),
							linear-gradient(${angle2}deg, transparent 40%, ${colors.color3} 100%),
							radial-gradient(circle at top right, ${colors.color2}55, transparent 50%),
							radial-gradient(circle at bottom left, ${colors.color1}55, transparent 50%),
							linear-gradient(to right, ${colors.color3}33, transparent)
						`;
					});
				}
				
				lastScrollPosition = currentScroll;
			}, 16);

			document.addEventListener('scroll', debouncedScroll, { passive: true });

			// Initialize with performance optimization
			window.addEventListener('load', () => {
				requestAnimationFrame(() => {
					document.body.classList.remove('is-preload');
					initBackground();
				});
			});

			// Add keyboard navigation
			document.addEventListener('keydown', (e) => {
				if (e.key === 'Tab') {
					document.body.classList.add('keyboard-nav');
				}
			});

			document.addEventListener('mousedown', () => {
				document.body.classList.remove('keyboard-nav');
			});

			document.addEventListener('DOMContentLoaded', function() {
				// Modal functionality
				const modal = document.getElementById('polymath-modal');
				const openModalBtn = document.getElementById('polymath-link');
				const closeBtns = document.querySelectorAll('.close-modal, .modal-close');
				
				openModalBtn.addEventListener('click', function(e) {
					e.preventDefault();
					modal.classList.add('active');
					document.body.classList.add('modal-open');
				});
				
				closeBtns.forEach(btn => {
					btn.addEventListener('click', function() {
						modal.classList.remove('active');
						document.body.classList.remove('modal-open');
					});
				});
				
				window.addEventListener('click', function(e) {
					if (e.target === modal) {
						modal.classList.remove('active');
						document.body.classList.remove('modal-open');
					}
				});
				
				// First-time visitor context popup
				if (!sessionStorage.getItem('cardContextShown')) {
					setTimeout(() => {
						document.getElementById('card-context').classList.add('active');
						
						setTimeout(() => {
							document.getElementById('card-context').classList.remove('active');
						}, 4000);
						
						sessionStorage.setItem('cardContextShown', 'true');
					}, 3000);
				}
				
				// Skill previews
				const roleTexts = document.querySelectorAll('.role-text[data-skill]');
				
				roleTexts.forEach(role => {
					const skill = role.getAttribute('data-skill');
					const preview = document.getElementById(`preview-${skill}`);
					
					if (preview) {
						role.addEventListener('mouseenter', () => {
							preview.classList.add('active');
						});
						
						role.addEventListener('mouseleave', () => {
							preview.classList.remove('active');
						});
						
						// Touch support
						role.addEventListener('touchstart', function(e) {
							e.preventDefault();
							
							document.querySelectorAll('.skill-preview.active').forEach(p => {
								if (p !== preview) p.classList.remove('active');
							});
							
							preview.classList.toggle('active');
						});
					}
				});
				
				// Close skill previews when clicking elsewhere
				document.addEventListener('click', function(e) {
					if (!e.target.closest('.role-text') && !e.target.closest('.skill-preview')) {
						document.querySelectorAll('.skill-preview.active').forEach(p => {
							p.classList.remove('active');
						});
					}
				});
				
				// Logo easter egg
				document.getElementById('logo').addEventListener('click', function() {
					document.body.classList.toggle('easter-egg-mode');
					setTimeout(() => {
						document.body.classList.remove('easter-egg-mode');
					}, 5000);
				});
			});
		</script>
	</body>
	<script>
		// Swap logo src to dark variant when theme-dark present
		(function(){
			try {
				var body = document.body || document.documentElement;
				var img = document.getElementById('logo-img');
				if (!img) return;
				var dark = img.getAttribute('data-dark');
				var og = img.getAttribute('data-og');

				var applyVariant = function(){
					if (body.classList.contains('theme-dark') && dark) {
						img.src = dark;
					} else if (og) {
						img.src = og;
					} else {
						// fallback to default (already set)
					}
				};

				// run at load and also observe class changes
				applyVariant();
				var observer = new MutationObserver(function(m){ applyVariant(); });
				observer.observe(body, { attributes: true, attributeFilter: ['class'] });
			} catch (e) {
				// noop
			}
		})();
	</script>
</html>